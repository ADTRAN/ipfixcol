Summary: IPFIX Collector Toolset.
Name: ipfixcol
Version: %(cut -f1 ./VERSION | tr -d '\n')
Release: @RELEASE@
URL: http://www.liberouter.org/
Source: http://homeproj.cesnet.cz/rpm/liberouter/stable/SOURCES/%{name}-%{version}-%{release}.tar.gz
Group: Liberouter
License: BSD
Vendor: CESNET, z.s.p.o.
Packager: @USERNAME@ <@USERMAIL@>
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}

BuildRequires: gcc make doxygen pkgconfig

%description
IPFIX Collector Toolset

%package devel
Summary: IPFIX Collector development package
Group: Liberouter
Requires: ipfixcol = %{version}-%{release}

%description devel
This package contains header files needed for development of plugins for IPFIX Collector (ipfixcol).

%prep
%setup

%post

%preun

%postun


%build
./configure --with-distro=@DISTRO@ --prefix=%{_prefix} --disable-postgres @CONFIGURE_PARAMS@;
make
make storage-plugins
make input-plugins
make doc

%install
make DESTDIR=$RPM_BUILD_ROOT install

%files
%{_bindir}/ipfixcol
#%{_mandir}/man1/ipfixcol.1*
#%{_mandir}/man5/ipfixcol.conf.5*
#input plugins
/usr/lib64/ipfixcol_udp_input.so
/usr/lib64/ipfixcol_tcp_input.so
/usr/lib64/ipfixcol_sctp_input.so
/usr/lib64/pkgconfig/ipfixcol.pc
#storage plugins
/usr/lib64/ipfixcol_ipfix_output.so
#config files
/etc/ipfixcol/internalcfg.xml
/etc/ipfixcol/ipfix-elements.xml
/etc/ipfixcol/startup.xml
#doxygen
/usr/share/ipfixcol/doxygen/html/bc_s.png
/usr/share/ipfixcol/doxygen/html/closed.png
/usr/share/ipfixcol/doxygen/html/doxygen.css
/usr/share/ipfixcol/doxygen/html/doxygen.png
/usr/share/ipfixcol/doxygen/html/ftv2blank.png
/usr/share/ipfixcol/doxygen/html/ftv2doc.png
/usr/share/ipfixcol/doxygen/html/ftv2folderclosed.png
/usr/share/ipfixcol/doxygen/html/ftv2folderopen.png
/usr/share/ipfixcol/doxygen/html/ftv2lastnode.png
/usr/share/ipfixcol/doxygen/html/ftv2link.png
/usr/share/ipfixcol/doxygen/html/ftv2mlastnode.png
/usr/share/ipfixcol/doxygen/html/ftv2mnode.png
/usr/share/ipfixcol/doxygen/html/ftv2node.png
/usr/share/ipfixcol/doxygen/html/ftv2plastnode.png
/usr/share/ipfixcol/doxygen/html/ftv2pnode.png
/usr/share/ipfixcol/doxygen/html/ftv2splitbar.png
/usr/share/ipfixcol/doxygen/html/ftv2vertline.png
/usr/share/ipfixcol/doxygen/html/index.html
/usr/share/ipfixcol/doxygen/html/installdox
/usr/share/ipfixcol/doxygen/html/jquery.js
/usr/share/ipfixcol/doxygen/html/nav_f.png
/usr/share/ipfixcol/doxygen/html/nav_h.png
/usr/share/ipfixcol/doxygen/html/navtree.css
/usr/share/ipfixcol/doxygen/html/navtree.js
/usr/share/ipfixcol/doxygen/html/open.png
/usr/share/ipfixcol/doxygen/html/resize.js
/usr/share/ipfixcol/doxygen/html/search/close.png
/usr/share/ipfixcol/doxygen/html/search/mag_sel.png
/usr/share/ipfixcol/doxygen/html/search/nomatches.html
/usr/share/ipfixcol/doxygen/html/search/search.css
/usr/share/ipfixcol/doxygen/html/search/search.js
/usr/share/ipfixcol/doxygen/html/search/search_l.png
/usr/share/ipfixcol/doxygen/html/search/search_m.png
/usr/share/ipfixcol/doxygen/html/search/search_r.png
/usr/share/ipfixcol/doxygen/html/tab_a.png
/usr/share/ipfixcol/doxygen/html/tab_b.png
/usr/share/ipfixcol/doxygen/html/tab_h.png
/usr/share/ipfixcol/doxygen/html/tab_s.png
/usr/share/ipfixcol/doxygen/html/tabs.css
/usr/share/ipfixcol/doxygen/latex/Makefile
/usr/share/ipfixcol/doxygen/latex/doxygen.sty
/usr/share/ipfixcol/doxygen/latex/refman.tex

%files devel
%{_prefix}/include/ipfixcol.h
%{_prefix}/include/ipfixcol/*.h
